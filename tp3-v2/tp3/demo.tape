# TP3 - DÃ©monstration de l'Ã‰quilibrage de Charge
# Script VHS pour dÃ©montrer le projet TP3

# Configuration de base
Set FontSize 14
Set Width 1200
Set Height 800
Set Theme "Catppuccin Mocha"
Set Padding 20
Set Margin 20
Set MarginFill "#1e1e2e"
Set BorderRadius 8
Set WindowBar Colorful

# DÃ©marrage de la dÃ©monstration
Type "echo '=== TP3 - Service Web avec Ã‰quilibrage de Charge ==='"
Enter
Sleep 1s

Type "echo 'DÃ©monstration de l'infrastructure Docker Compose'"
Enter
Sleep 1s

# Affichage de la structure du projet
Type "echo 'ğŸ“ Structure du projet:'"
Enter
Type "dir /B"
Enter
Sleep 2s

# VÃ©rification de Docker
Type "echo 'ğŸ³ VÃ©rification de Docker:'"
Enter
Type "docker --version"
Enter
Type "docker-compose --version"
Enter
Sleep 1s

# DÃ©marrage des services
Type "echo 'ğŸš€ DÃ©marrage des services Docker Compose:'"
Enter
Type "docker-compose up -d"
Enter
Sleep 3s

# VÃ©rification des conteneurs
Type "echo 'ğŸ“Š Ã‰tat des conteneurs:'"
Enter
Type "docker-compose ps"
Enter
Sleep 2s

# Test de l'Ã©quilibrage de charge
Type "echo 'âš–ï¸ Test de l'Ã©quilibrage de charge:'"
Enter
Type "echo 'RequÃªtes multiples pour dÃ©montrer la rÃ©partition:'"
Enter
Sleep 1s

# PremiÃ¨re requÃªte
Type "curl -s http://localhost"
Enter
Sleep 1s

# DeuxiÃ¨me requÃªte
Type "curl -s http://localhost"
Enter
Sleep 1s

# TroisiÃ¨me requÃªte
Type "curl -s http://localhost"
Enter
Sleep 1s

# QuatriÃ¨me requÃªte
Type "curl -s http://localhost"
Enter
Sleep 1s

# VÃ©rification des logs
Type "echo 'ğŸ“‹ Logs du service Nginx (Ã©quilibreur):'"
Enter
Type "docker-compose logs --tail=5 nginx"
Enter
Sleep 2s

# Affichage des rÃ©seaux Docker
Type "echo 'ğŸŒ RÃ©seaux Docker crÃ©Ã©s:'"
Enter
Type "docker network ls"
Enter
Sleep 1s

# Message de fin
Type "echo 'âœ… DÃ©monstration terminÃ©e!'"
Enter
Type "echo 'Le projet TP3 dÃ©montre un Ã©quilibrage de charge avec:'"
Enter
Type "echo '- Nginx comme Ã©quilibreur'"
Enter
Type "echo '- 2 serveurs Apache identiques'"
Enter
Type "echo '- 2 instances PHP-FPM'"
Enter
Type "echo '- 2 bases de donnÃ©es MySQL'"
Enter
Sleep 2s

# Capture finale
Screenshot demo-final.png

# Sortie du GIF
Output demo.gif
