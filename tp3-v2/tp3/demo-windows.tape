# TP3 - DÃ©monstration Windows avec VHS
# Script optimisÃ© pour Windows

# Configuration de base
Set FontSize 12
Set Width 1000
Set Height 700
Set Theme "Catppuccin Mocha"
Set Padding 15
Set Margin 15
Set MarginFill "#1e1e2e"
Set BorderRadius 6
Set WindowBar Colorful

# DÃ©marrage de la dÃ©monstration
Type "echo === TP3 - Service Web avec Equilibrage de Charge ==="
Enter
Sleep 1s

Type "echo Demonstration de l'infrastructure Docker Compose"
Enter
Sleep 1s

# VÃ©rification de Docker
Type "echo ğŸ³ Verification de Docker:"
Enter
Type "docker --version"
Enter
Type "docker-compose --version"
Enter
Sleep 1s

# Structure du projet
Type "echo ğŸ“ Structure du projet:"
Enter
Type "dir /B"
Enter
Sleep 2s

# DÃ©marrage des services
Type "echo ğŸš€ Demarrage des services Docker Compose:"
Enter
Type "docker-compose up -d"
Enter
Sleep 3s

# VÃ©rification des conteneurs
Type "echo ğŸ“Š Etat des conteneurs:"
Enter
Type "docker-compose ps"
Enter
Sleep 2s

# Test de l'Ã©quilibrage de charge
Type "echo âš–ï¸ Test de l'equilibrage de charge:"
Enter
Type "echo Requetes multiples pour demontrer la repartition:"
Enter
Sleep 1s

# RequÃªtes multiples
Type "curl http://localhost"
Enter
Sleep 1s

Type "curl http://localhost"
Enter
Sleep 1s

Type "curl http://localhost"
Enter
Sleep 1s

Type "curl http://localhost"
Enter
Sleep 1s

# VÃ©rification des logs
Type "echo ğŸ“‹ Logs du service Nginx (equilibreur):"
Enter
Type "docker-compose logs --tail=5 nginx"
Enter
Sleep 2s

# RÃ©seaux Docker
Type "echo ğŸŒ Reseaux Docker crees:"
Enter
Type "docker network ls"
Enter
Sleep 1s

# Message de fin
Type "echo âœ… Demonstration terminee!"
Enter
Type "echo Le projet TP3 demontre un equilibrage de charge avec:"
Enter
Type "echo - Nginx comme equilibreur"
Enter
Type "echo - 2 serveurs Apache identiques"
Enter
Type "echo - 2 instances PHP-FPM"
Enter
Type "echo - 2 bases de donnees MySQL"
Enter
Sleep 2s

# Capture finale
Screenshot demo-windows-final.png

# Sortie du GIF
Output demo-windows.gif
